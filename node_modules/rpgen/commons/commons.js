
"use strict"





const commons = {
	async:  { },
	string: { }
}




commons.async.repeat = (times, fn, callback) => {

	// commons.async.repeat.precond(times, fn, callback)

	var recur = (acc, times) => {

		if (times === 0) {
			callback(acc)
		} else {

			fn((err, data) => {

				if (err) {
					throw err
				}

				recur(acc.concat(data), times - 1)

			})

		}

	}

	recur([ ], times)

}

commons.async.repeat.precond  = (times, fn, callback) => {

	is.always.number(times)
	is.always.function(fn)
	is.always.function(callback)

}





commons.string.getCharset = (chars, lowercase) => {

	const unique = [ ]

	for (let ith = 0; ith < chars.length; ++ith) {

		var char = chars.charAt(ith).toLowerCase( )

		if (unique.indexOf(char) === -1) {
			unique.push(char)
		}

	}

	return unique

}



module.exports = commons
